plugins {
    id 'com.github.johnrengelman.shadow' version '6.1.0'
    id "maven-publish"
    id 'java'
}

group 'com.unrealdinnerbone'

archivesBaseName = 'TheStatsTracker'
version = '1.0.0'

repositories {
    mavenCentral()
    maven { url "https://maven.unreal.codes/repository/unreal/"}

}

configurations {
    shade
    implementation.extendsFrom shade
    shadow.extendsFrom shade
}


dependencies {
    compileOnly 'org.jetbrains:annotations:21.0.1'

    shade('com.unrealdinnerbone:UnRealLib:3.1.0+build.61')
    shade('com.unrealdinnerbone:ModpacksAPI:3.0.0+build.18')
    shade 'com.unrealdinnerbone:PostgressLib:1.0.0+build.17'


    testCompileOnly group: 'junit', name: 'junit', version: '4.4'

}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(16)
    }
}

shadowJar {
    manifest {
        inheritFrom project.tasks.jar.manifest
    }
}

jar {
    manifest {
        attributes(
                'Main-Class': 'com.unrealdinnerbone.marketplace.Tracker'
        )
    }
}


